<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Guest Reviews | Zensui Jambhala</title>
  <meta name="description" content="Guest reviews fetched from Google Maps for Zensui Jambhala Homestay.">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{--white:#fff;--gold:#D4AF37;--deep-green:#0B3B2C;--light-green:#1A5C47;--cream:#F8F6F0;--shadow:rgba(11,59,44,0.1)}
    html{scrollbar-gutter:stable;overflow-y:scroll;-webkit-overflow-scrolling:touch}
    ::-webkit-scrollbar{width:12px}::-webkit-scrollbar-track{background:rgba(0,0,0,0.03)}::-webkit-scrollbar-thumb{background:rgba(11,59,44,0.28);border-radius:10px}
    body{font-family:Georgia,serif;color:var(--deep-green);line-height:1.6;overflow-x:hidden}
    .navbar{position:fixed;top:0;width:100%;background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);padding:1rem 5%;display:flex;justify-content:space-between;align-items:center;z-index:1000;box-shadow:0 2px 20px var(--shadow)}
    .nav-container{width:100%;max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}
    .logo{display:flex;align-items:center;gap:.8rem;font-size:1.5rem;font-weight:700;color:var(--deep-green);text-decoration:none}
    .logo-img{height:60px;width:60px;background:linear-gradient(135deg,var(--deep-green),var(--light-green));border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--gold);font-size:1.8rem;border:2px solid var(--gold)}
    .nav-links{display:flex;gap:2.5rem;list-style:none;align-items:center}
    .nav-links a{color:var(--deep-green);text-decoration:none;font-size:1rem;font-weight:500}
    main{margin-top:80px}
    section{padding:5rem 5%}
    .section-title{text-align:center;font-size:3rem;margin-bottom:1rem;color:var(--deep-green)}
    .section-title::after{content:'';display:block;width:80px;height:3px;background:var(--gold);margin:1rem auto}
    .section-subtitle{text-align:center;font-size:1.1rem;color:var(--light-green);margin-bottom:2rem;font-style:italic}
    .reviews-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.8rem;max-width:1200px;margin:0 auto}
    .review-card{background:var(--white);border-radius:14px;padding:1.25rem;box-shadow:0 8px 25px var(--shadow);display:flex;flex-direction:column;gap:.6rem}
    .review-author{font-weight:700;color:var(--deep-green)}
    .review-meta{font-size:.95rem;color:#666}
    .review-text{color:#333;line-height:1.6;margin-top:.5rem}
    .stars{color:#F4C150;font-weight:700}
    /* Hidden map used by PlacesService (must exist) */
    #map{width:1px;height:1px;position:absolute;left:-9999px;top:-9999px}
    footer{background:linear-gradient(180deg,#051f18 0%,var(--deep-green)50%,#0a3528 100%);color:var(--cream);margin-top:4rem}
    .footer-main{max-width:1400px;margin:0 auto;padding:3rem 5%;display:grid;grid-template-columns:2.2fr 1fr 1.2fr 1.5fr;gap:2rem}
    @media(max-width:968px){.menu-toggle{display:flex}}
  </style>
  <link rel="icon" href="/favicon.png" type="image/png">
</head>
<body>
  <nav class="navbar" id="navbar">
    <div class="nav-container">
      <a href="/" class="logo">
        <div class="logo-img"><img src="logo.png" alt="logo" style="height:100%;width:100%;object-fit:cover;border-radius:50%"></div>
        <div style="display:flex;flex-direction:column;gap:.2rem">
          <div style="font-weight:700">Zensui <span style="color:var(--gold)">Jambhala</span></div>
          <div style="font-size:.65rem;color:var(--gold);font-weight:600">Homestays</div>
        </div>
      </a>
      <button class="menu-toggle" id="menuToggle" aria-label="Toggle Menu"><span></span><span></span><span></span></button>
      <ul class="nav-links" id="navLinks">
        <li><a href="index.html">Home</a></li>
        <li><a href="rooms.html">Rooms</a></li>
        <li><a href="aminities.html">Amenities</a></li>
        <li><a href="guest-diary.html">Guest Diary</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </nav>

  <main>
    <section id="reviews">
      <h2 class="section-title">Guest Reviews</h2>
      <p class="section-subtitle">Live reviews fetched from Google Maps</p>

      <div style="max-width:1200px;margin:0 auto 1.5rem;text-align:center;color:#666">
        <small>Replace <strong>YOUR_API_KEY</strong> and <strong>PLACE_ID</strong> in the script below with your Google Maps API Key and the place id for your listing.</small>
      </div>

      <div id="reviewsContainer" class="reviews-grid" aria-live="polite">
        <!-- injected reviews -->
      </div>

      <!-- required by PlacesService -->
      <div id="map" aria-hidden="true"></div>
    </section>
  </main>

  <footer>
    <div class="footer-main">
      <div>
        <div style="font-weight:700;font-size:1.25rem">Zensui <span style="color:var(--gold)">Jambhala</span></div>
        <p style="color:rgba(248,246,240,0.8);margin-top:.6rem">Nestled by the serene Riyang River in Sittong, our homestay offers an escape into nature's embrace.</p>
      </div>
      <div>
        <h3 style="color:var(--gold)">Quick Links</h3>
        <ul style="list-style:none;padding:0;margin-top:1rem;color:rgba(248,246,240,0.9)">
          <li><a href="index.html" style="color:inherit;text-decoration:none">Home</a></li>
          <li><a href="rooms.html" style="color:inherit;text-decoration:none">Rooms</a></li>
        </ul>
      </div>
      <div>
        <h3 style="color:var(--gold)">Contact</h3>
        <ul style="list-style:none;padding:0;margin-top:1rem;color:rgba(248,246,240,0.9)">
          <li>üìç Sittong, Jogighat, Darjeeling</li>
          <li>üìû +91 891-8323185</li>
        </ul>
      </div>
      <div></div>
    </div>
  </footer>

  <script>
    // minimal menu logic
    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.getElementById('navLinks');
    const body = document.body;
    function toggleMenu(){ if(!menuToggle) return; menuToggle.classList.toggle('active'); navLinks.classList.toggle('active'); body.style.overflow = navLinks.classList.contains('active') ? 'hidden' : ''; }
    if(menuToggle) menuToggle.addEventListener('click', toggleMenu);

    // Replace these with your values
    const API_KEY = 'YOUR_API_KEY';
    const PLACE_ID = 'PLACE_ID';

    function renderStarRating(rating){
      const full = Math.floor(rating||0);
      let stars = '';
      for(let i=0;i<full;i++) stars += '‚òÖ';
      for(let i=full;i<5;i++) stars += '‚òÜ';
      return `<span class="stars" aria-hidden="true">${stars}</span> <span class="review-meta">${rating?rating.toFixed(1):''}</span>`;
    }

    function renderReviews(place){
      const container = document.getElementById('reviewsContainer');
      container.innerHTML = '';
      if(!place||!place.reviews||place.reviews.length===0){
        container.innerHTML = '<p style="grid-column:1/-1;color:#666;text-align:center">No reviews available.</p>';
        return;
      }
      place.reviews.forEach(r=>{
        const card = document.createElement('article'); card.className='review-card';
        const author = document.createElement('div'); author.className='review-author'; author.textContent = r.author_name||'Guest';
        const meta = document.createElement('div'); meta.className='review-meta'; meta.innerHTML = renderStarRating(r.rating) + (r.time?` ‚Ä¢ ${new Date(r.time*1000).toLocaleDateString()}`:'');
        const text = document.createElement('div'); text.className='review-text'; text.textContent = r.text||'';
        card.appendChild(author); card.appendChild(meta); card.appendChild(text);
        container.appendChild(card);
      });
    }

    function initMap(){
      if(!window.google||!google.maps) return console.error('Google Maps script not loaded');
      const mapEl = document.getElementById('map');
      const map = new google.maps.Map(mapEl,{center:{lat:26.8,lng:88.1},zoom:15});
      const service = new google.maps.places.PlacesService(map);
      service.getDetails({placeId:PLACE_ID,fields:['name','rating','reviews','url']},(place,status)=>{
        if(status===google.maps.places.PlacesServiceStatus.OK) renderReviews(place);
        else document.getElementById('reviewsContainer').innerHTML = `<p style="grid-column:1/-1;color:#666;text-align:center">Unable to load reviews (${status}). Ensure API key and place id are correct.</p>`;
      });
    }

    (function loadMaps(){
      if(!API_KEY||API_KEY==='YOUR_API_KEY'){
        document.getElementById('reviewsContainer').innerHTML = '<p style="grid-column:1/-1;color:#666;text-align:center">Please set your Google Maps API key and Place ID in this page to load reviews.</p>';
        return;
      }
      if(document.querySelector('script[data-gmaps]')) return;
      const s = document.createElement('script'); s.setAttribute('data-gmaps','1');
      s.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places&callback=initMap`;
      s.async = true; s.defer = true; document.head.appendChild(s);
    })();
  </script>
</body>
</html>